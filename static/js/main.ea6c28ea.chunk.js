(this.webpackJsonpJuegoEscritores=this.webpackJsonpJuegoEscritores||[]).push([[0],{187:function(e){e.exports=JSON.parse('[{"id":1,"name":"Andr\xe9s Caicedo","image":"/JuegoEscritores/resources/authors_images/authors_images/andres_caicedo.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/andres_caicedo.png"},{"id":2,"name":"Carlos Fuentes","image":"/JuegoEscritores/resources/authors_images/authors_images/carlos_fuentes.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/carlos_fuentes.png"},{"id":3,"name":"Cesar Vallejo","image":"/JuegoEscritores/resources/authors_images/authors_images/cesar_vallejo.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/cesar_vallejo.png"},{"id":4,"name":"Ernesto Sabato","image":"/JuegoEscritores/resources/authors_images/authors_images/ernesto_sabato.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/ernesto_sabato.png"},{"id":5,"name":"Esteban Echeverr\xeda","image":"/JuegoEscritores/resources/authors_images/authors_images/esteban_echeverria.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/esteban_echeverria.png"},{"id":6,"name":"Gabriel Garc\xeda M\xe1rquez","image":"/JuegoEscritores/resources/authors_images/authors_images/gabo.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/gabo.png"},{"id":7,"name":"Gabriela Mistral","image":"/JuegoEscritores/resources/authors_images/authors_images/gabriela_mistral.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/gabriela_mistral.png"},{"id":8,"name":"Isabel Allende","image":"/JuegoEscritores/resources/authors_images/authors_images/isabel_allende.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/isabel_allende.png"},{"id":9,"name":"Jairo An\xedbal Ni\xf1o","image":"/JuegoEscritores/resources/authors_images/authors_images/jairo_anibal.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/jairo_anibal.png"},{"id":10,"name":"Jorge Isaacs","image":"/JuegoEscritores/resources/authors_images/authors_images/jorge_isaacs.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/jorge_isaacs.png"},{"id":11,"name":"Jorge Luis Borges","image":"/JuegoEscritores/resources/authors_images/authors_images/jorge_luis_borges.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/jorge_luis_borges.png"},{"id":12,"name":"Jose Mart\xed","image":"/JuegoEscritores/resources/authors_images/authors_images/jose_marti.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/jose_marti.png"},{"id":13,"name":"Juan Rulfo","image":"/JuegoEscritores/resources/authors_images/authors_images/juan_rulfo.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/juan_rulfo.png"},{"id":14,"name":"Julio Cort\xe1zar","image":"/JuegoEscritores/resources/authors_images/authors_images/julio_cortazar.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/julio_cortazar.png"},{"id":15,"name":"Laura Esquivel","image":"/JuegoEscritores/resources/authors_images/authors_images/laura_esquivel.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/laura_esquivel.png"},{"id":16,"name":"Mario Benedetti","image":"/JuegoEscritores/resources/authors_images/authors_images/mario_benedetti.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/mario_benedetti.png"},{"id":17,"name":"Mario Vargas Llosa","image":"/JuegoEscritores/resources/authors_images/authors_images/mario_vargas_llosa.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/mario_vargas_llosa.png"},{"id":18,"name":"Pablo Neruda","image":"/JuegoEscritores/resources/authors_images/authors_images/pablo_neruda.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/pablo_neruda.png"},{"id":19,"name":"Rafael Pombo","image":"/JuegoEscritores/resources/authors_images/authors_images/rafael_pombo.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/rafael_pombo.png"},{"id":20,"name":"Tom\xe1s Carrasquilla","image":"/JuegoEscritores/resources/authors_images/authors_images/tomas_carrasquilla.png","icon":"/JuegoEscritores/resources/authors_images/authors_images/tomas_carrasquilla.png"}]')},190:function(e){e.exports=JSON.parse('[{"level":"1","type":"zip","resource":"libro_pc_COMPRENSIONLECTORA2_51613.zip","info":""},{"level":"2","type":"educaplay","resource":"https://es.educaplay.com/recursos-educativos/5837210-comprension_lectora_3.html","info":""},{"level":"3","type":"html","resource":"/JuegoEscritores/resources/INTERPRETATIVO.htm","info":"/JuegoEscritores/resources/Avatares de la vida (Fragmento II).pdf"},{"level":"4","type":"html","resource":"/JuegoEscritores/resources/ASOCIACION902.htm","info":""},{"level":"5","type":"zip","resource":"TALLER 2 LECTURA.zip","info":""},{"level":"6","type":"zip","resource":"COMPETENCIASLECTORAS.zip","info":""},{"level":"7","type":"html","resource":"/JuegoEscritores/resources/huecos902.htm","info":""},{"level":"8","type":"educaplay","resource":"https://es.educaplay.com/recursos-educativos/5825376-comprension_lectora_2.html","info":""},{"level":"9","type":"educaplay","resource":"https://es.educaplay.com/recursos-educativos/5798453-comprension_lectora.html","info":""},{"level":"10","type":"zip","resource":"CIERRE.zip","info":""}]')},191:function(e,a,t){e.exports=t(403)},196:function(e,a,t){},197:function(e,a,t){},198:function(e,a,t){},203:function(e,a,t){},204:function(e,a,t){},205:function(e,a,t){},208:function(e,a,t){},209:function(e,a,t){},403:function(e,a,t){"use strict";t.r(a);var s=t(0),r=t.n(s),i=t(185),o=t.n(i),n=(t(196),t(197),t(72)),l=(t(198),t(37)),c=t(57),u=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"set",value:function(e,a){return localStorage.setItem(e,JSON.stringify(a))}},{key:"get",value:function(e){return JSON.parse(localStorage.getItem(e))}},{key:"destroy",value:function(e){return localStorage.removeItem(e)}}]),e}(),m=t(13),h=t(405),g={id:Object(h.a)(),name:"",score:[{level:0,score:0}],icon:"",currentLevel:0},d=function e(){Object(l.a)(this,e)};d.ENV="/JuegoEscritores/",d.USER="__userJson",d.MAP="__map",d.SPAWN="__spawn",d.IS_CHANGE_INPUT="__isChange",d.AUX_SPAWN="__auxSpawn",d.PAGE_LOGIN=d.ENV,d.PAGE_CREATE_USER=d.ENV+"Crear-Usuario",d.PAGE_TABLE_GAME=d.ENV+"Juego",d.PAGE_INPUT_SCORE=d.ENV+"Guardar-Puntaje",d.TYPE_ZIP="zip",d.TYPE_EDUCAPLAY="educaplay",d.TYPE_HTML="html";var p=function(){function e(){Object(l.a)(this,e),this.storageService=new u,this.spawn={i:1,j:1},this.boardMap=[["*"," ","*"," "," "," ","*","*","*","*","*","*","*","*","*","*","*","*","*","*"," "," "," "],["*","S","*"," "," "," "," "," "," "," "," "," "," ","5"," "," "," ","6"," "," "," "," ","*"],["*"," ","*"," "," ","L","*","3","L","*","*"," ","*","*"," ","*","*","*","*"," "," ","L","*"],["*"," ","*"," ","*"," ","*","*"," "," ","4"," ","*"," ","*"," "," "," "," "," "," "," ","*"],["*"," ","*","2"," "," ","*"," "," ","*","*","*"," "," "," "," "," "," "," "," "," ","*","H"],["*"," ","*","*"," "," ","*","L","*","*","*","*","*","*","*","*","*","*","*","*"," "," ","H"],["H"," "," "," "," "," ","L"," ","*"," ","L"," ","9"," "," ","8"," "," "," ","7"," "," ","H"],["H"," ","1","#","#","L","H"," ","*"," ","#"," ","*","*"," ","*","*"," "," ","#","#","L","H"],["H"," ","#","H","H","L","H","#","O","10","H"," "," "," ","*"," "," "," ","#","H","H"," ","H"],["H","#","H","H","H","H","H","H","*","#","H","#","#","#","H","#","#","#","H","H","H","H","H"]]}return Object(c.a)(e,[{key:"saveInitialMap",value:function(){this.storageService.set(d.MAP,this.boardMap),this.storageService.set(d.SPAWN,this.spawn)}},{key:"getInitialMap",value:function(){return this.boardMap}},{key:"getInitialSpawn",value:function(){return this.spawn}},{key:"saveMap",value:function(e,a,t){var s=this.storageService.get(d.MAP);s[e][a]=t,this.storageService.set(d.MAP,s)}},{key:"saveNewSpawn",value:function(e,a){this.spawn.i=e,this.spawn.j=a,this.storageService.set(d.SPAWN,this.spawn)}}]),e}(),v=function(e){var a=Object(s.useState)(""),t=Object(n.a)(a,2),i=t[0],o=t[1],l=Object(s.useState)(!1),c=Object(n.a)(l,2),h=c[0],v=c[1],E=Object(m.f)(),_=new u,f=g;f=_.get(d.USER);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-all"},r.a.createElement("div",{className:"book"},r.a.createElement("span",{className:"page turn"},"Lorem Ipsum er ganske enkelt dummy tekst fra trykkeri- og typebransjen. Lorem Ipsum har v\xe6rt bransjens standard dummy-tekst helt siden 1500-tallet, da en ukjent skriver tok en bysse av typen og krypset den for \xe5 lage en type eksemplarbok. Det har overlevd ikke bare fem \xe5rhundrer, men ogs\xe5 spranget til elektronisk setting, og forblir i hovedsak uendret. Det ble popularisert p\xe5 1960-tallet med utgivelsen av Letraset-ark som inneholder Lorem Ipsum-passasjer, og mer nylig med desktop-publiseringsprogramvare som Aldus PageMaker inkludert versjoner av Lorem Ipsum."),r.a.createElement("span",{className:"page turn"},'Den vanlige delen av Lorem Ipsum brukt siden 1500-tallet er gjengitt nedenfor for de som er interessert. Avsnittene 1.10.32 og 1.10.33 fra "de Finibus Bonorum et Malorum" av Cicero er ogs\xe5 gjengitt i sin eksakte originale form, ledsaget av engelske versjoner fra 1914-oversettelsen av H. Rackham.'),r.a.createElement("span",{className:"page turn"},"Aliquam fringilla luctus sagittis. Curabitur quis erat sodales, feugiat dui vel, hendrerit tellus. Vestibulum id neque ipsum. Sed interdum, lectus sit amet condimentum iaculis, mi erat ullamcorper arcu, ac fringilla nisi tortor sit amet eros. Sed sed iaculis massa. Nam sed sagittis urna. Morbi sodales blandit mi, id tristique nunc accumsan sed."),r.a.createElement("span",{className:"page turn"},"Curabitur vel vehicula eros. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Aliquam sollicitudin nibh non pellentesque ornare. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Quisque ultricies vel augue a tincidunt."),r.a.createElement("span",{className:"page turn"},"Cras porta libero ipsum, eget sagittis metus scelerisque at. Integer elementum risus eleifend, tristique eros et, convallis massa. Maecenas bibendum, quam sit amet accumsan aliquet, enim mi elementum tortor, nec condimentum dui mi vitae augue. Nunc sit amet libero turpis."),r.a.createElement("span",{className:"page turn"},"Vivamus a scelerisque eros. Curabitur in ex nunc. Donec non felis ac libero auctor ornare vitae sit amet lectus. Nulla sagittis condimentum augue, vel commodo augue gravida sit amet."),r.a.createElement("span",{className:"cover"}),r.a.createElement("span",{className:"page"}),r.a.createElement("span",{className:"cover turn"},r.a.createElement("img",{src:"https://ep00.epimg.net/cultura/imagenes/2013/06/15/actualidad/1371283072_174122_1371283573_noticia_normal.jpg"}))),r.a.createElement("div",{className:"login-container"},r.a.createElement("form",null,null==f?r.a.createElement("div",{className:"inputGroup inputGroup2"},r.a.createElement("label",{htmlFor:"password"},"Nombre de usuario"),r.a.createElement("input",{type:"text",id:"nombre_usuario",className:"password",onChange:function(e){return o(e.target.value)}})):r.a.createElement("div",{className:"divNameLabel"},r.a.createElement("label",{className:"labelName",htmlFor:"password"},"Usuario: ",f.name)),r.a.createElement("div",{className:"inputGroup inputGroup3"},r.a.createElement("button",{id:"login",onClick:function(e){return function(e){if(console.log(navigator.permissions),null!=f)""!==f.icon?E.push(d.PAGE_TABLE_GAME):E.push(d.PAGE_CREATE_USER);else{var a=g;a.name=i,f=a,_.set(d.USER,f),_.set(d.IS_CHANGE_INPUT,null),(new p).saveInitialMap(),E.push(d.PAGE_CREATE_USER)}}()}},"Entrar")),null!=f&&h?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"inputGroup inputGroup2"},r.a.createElement("label",{htmlFor:"password"},"Cambiar nombre de usuario"),r.a.createElement("input",{type:"text",id:"change-user-name",className:"password",onChange:function(e){return o(e.target.value)}})),r.a.createElement("div",{className:"inputGroup inputGroup3"},r.a.createElement("button",{id:"btn-change",onClick:function(e){return f.name=i,_.set(d.USER,f),v(!1),void console.log("User name has been changed")}},"Cambiar"))):null==f||h?void 0:r.a.createElement("div",{className:"inputGroup inputGroup3"},r.a.createElement("button",{id:"changeName",onClick:function(){return v(!0)}},"Cambiar nombre"))))))},E=t(50),_=t(187),f=(t(203),function(e){var a=Object(m.f)(),t=new u,s=t.get(d.USER);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container",onClick:function(r){return i=r,void(s&&(i?(console.log("Se eligi\xf3 un autor"),s.icon=e.author,t.set(d.USER,s),a.push(d.PAGE_TABLE_GAME)):(console.log("No se ha elegido un autor"),a.push(d.PAGE_LOGIN))));var i}},r.a.createElement("img",{src:e.author.icon,alt:e.author.name}),r.a.createElement("p",{className:"title"},e.author.name),r.a.createElement("div",{className:"overlay"})))}),b=(t(204),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"selector-title-container"},r.a.createElement("h1",{className:"selector-title"},"Elige un escritor")),r.a.createElement("div",{className:"layoutContainer"},function(){var e=[];return _.forEach((function(a){e.push(r.a.createElement(f,{author:a,key:a.id}))})),e}()))}),N=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null))},y=(t(205),function(e){var a=Object(m.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{id:"not-found"},r.a.createElement("div",{id:"title"},"Esta p\xe1gina no existe en el juego"),r.a.createElement("div",{id:"subtitle",className:"container-404"},"Oprime el bot\xf3n de abajo para ser redirigido a una parte existente en el juego... ",r.a.createElement("em",null,"\xa1Vamos!")),r.a.createElement("div",{className:"container-404"},r.a.createElement("button",{id:"button",className:"inputGroup",onClick:function(){a.push(d.PAGE_LOGIN)}},"VOLVER AL JUEGO")),r.a.createElement("div",{className:"circles"},r.a.createElement("p",null,"404",r.a.createElement("small",null,"P\xc1GINA NO ENCONTRADA")),r.a.createElement("span",{className:"circle big"}),r.a.createElement("span",{className:"circle med"}),r.a.createElement("span",{className:"circle small"}))))}),w=t(188),A=t.n(w),S=function(e){var a=Object(m.f)(),t=Object(s.useState)(-1),i=Object(n.a)(t,2),o=i[0],l=i[1],c=g,h=new u;c=h.get(d.USER);var p=e.location.state?e.location.state.level:null;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-all"},r.a.createElement("form",null,r.a.createElement("div",{id:"id-input",className:"inputGroup inputGroup2"},r.a.createElement("label",null,"Por favor realiza el juego de este nivel y luego dinos:"),r.a.createElement("label",null,"\xbfCu\xe1l fue tu puntaje para el nivel ",p,"?"),r.a.createElement("input",{type:"number",id:"nombre_usuario",className:"password",onChange:function(e){l(e.target.valueAsNumber)}})),r.a.createElement("div",{id:"div-button",className:"inputGroup inputGroup3"},r.a.createElement("button",{id:"guardar-puntaje",onClick:function(){if(p)if(o&&o>0){var e=c.score;e[p-1]?(e[p-1].level=p,e[p-1].score=o):e.push({level:p,score:o}),c.currentLevel=p,h.set(d.USER,c),h.set(d.IS_CHANGE_INPUT,!0),function(e){var a=g;a=e.user;var t,s=e.level,r=a.score[s-1],i="Puntaje total: "+function(){var e=0;return a.score.forEach((function(a){e+=a.score})),e}(),o={userName:a.name,level:r.level,scoreLevel:r.score,totalScore:i};t=o,a.score.forEach((function(e){t["score"+e.level]="Nivel "+e.level+": "+e.score})),o=t,A.a.send("gmail","template_cJPH7HCg",o,"user_fpNDLPWJm8a7JTZCHRRAU").then((function(e){return console.log(e.text),!0}),(function(e){console.log("error, ac\xe1 hay un error"),console.log(e.text)}))}({user:c,level:p})}else h.set(d.IS_CHANGE_INPUT,!1);a.push(d.PAGE_TABLE_GAME)}},"Guardar puntaje")))))},C=t(121),k=(t(208),t(189)),j=t.n(k),L=function e(){Object(l.a)(this,e),this.env=d.ENV,this.downloadFile=function(e){j.a.saveAs("resources/"+e,e)}},P=t(190),J=(t(209),function(e){var a;a=(new u).get(d.USER);var t=0;return a.score.forEach((function(e){t+=e.score})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"footer-container"},r.a.createElement("div",{className:"order"},r.a.createElement("div",{className:"inline-xd"},r.a.createElement("img",{src:a.icon.icon,alt:a.name})),r.a.createElement("div",{className:"custom text inline-xd"},r.a.createElement("span",null,a.icon.name)),r.a.createElement("div",{className:"custom-order text inline-xd"},r.a.createElement("strong",null,"Nivel Actual:")," ",r.a.createElement("span",null," ",a.currentLevel)),r.a.createElement("div",{className:"custom-order text inline-xd"},r.a.createElement("strong",null,"Puntaje Total: "),r.a.createElement("span",null,t)))))}),G=new u,I=function(e){var a=Object(m.f)(),t=new u;new p;Object(s.useEffect)((function(){var e;(e=t.get(d.USER))?""!==e.icon?i():(setTimeout((function(){alert("No has elegido un autor, por favor elige uno.")}),1e3),console.log("No se ha elegido autor, por favor elige uno."),a.push(d.PAGE_CREATE_USER)):(setTimeout((function(){alert("No has creado un usuario, por favor crea un usuario para jugar.")}),10),console.log("No hay usuario"),a.push(d.PAGE_LOGIN))}),[]);var i=function(){new L,document.body;var e,s,r=document.getElementById("character"),i=document.querySelector("#viewbox");if(r instanceof HTMLElement){e=r.offsetWidth,s=r.offsetHeight;var o=e-6*Math.floor(r.offsetWidth/10);if(t.get(d.IS_CHANGE_INPUT)){var n=t.get(d.AUX_SPAWN).r,l=t.get(d.AUX_SPAWN).c;M(n,l)}else null!==t.get(d.IS_CHANGE_INPUT)&&(setTimeout((function(){alert("No has ingresado puntaje para el nivel al que hab\xeds entrado.")}),1e3),t.destroy(d.IS_CHANGE_INPUT));var c=t.get(d.MAP);new H(r,i,c,6,10,10,10,o,e,s,30,a).initialize()}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-game"},r.a.createElement("div",{className:"screen",id:"viewbox"},function(){for(var e=[],a=[],t=0;t<10;t++){a=[];for(var s=0;s<23;s++)a.push(r.a.createElement("div",{key:"s"+s+t,className:"col","data-game-col":s}));e.push(r.a.createElement("div",{key:"s"+t,className:"row","data-game-row":t},a))}return e}(),r.a.createElement("div",{className:"character hide",id:"character"})),t.get(d.USER)?r.a.createElement(J,null):""))},M=function(e,a){var t=G.get(d.SPAWN),s=new p;s.saveMap(e,a,"S"),s.saveMap(t.i,t.j," "),s.saveNewSpawn(e,a),G.destroy(d.IS_CHANGE_INPUT)},H=function(){function e(a,t,s,r,i,o,n,c,u,m,h,g){Object(l.a)(this,e),this.character=void 0,this.viewbox=void 0,this.map=void 0,this.allowance=void 0,this.space=void 0,this.columns=void 0,this.rows=void 0,this.charWidth=void 0,this.width=void 0,this.height=void 0,this.fps=void 0,this.left=void 0,this.top=void 0,this.activeKeyX=void 0,this.activeKeyY=void 0,this.onLand=void 0,this.position=void 0,this.jumpSpeed=void 0,this.hasEvent=void 0,this.scroll=void 0,this.animation=void 0,this.won=void 0,this.dead=void 0,this.history=void 0,this.open=void 0,this.mapLS=new p,this.character=a,this.viewbox=t,this.map=s,this.allowance=r,this.space=i,this.columns=o,this.rows=n,this.charWidth=c,this.width=u,this.height=m,this.fps=h,this.left=0,this.top=0,this.activeKeyX=null,this.activeKeyY=null,this.onLand=!0,this.position={x:0,y:0},this.jumpSpeed=0,this.hasEvent=!1,this.scroll=0,this.animation=null,this.won=!1,this.dead=!1,this.history=g,this.open=!1}return Object(c.a)(e,[{key:"gameWin",value:function(e,a){!1===this.won&&(this.won=!0,setTimeout((function(){var t=0;G.get(d.USER).score.forEach((function(e){t+=e.score})),M(e,a),G.set(d.IS_CHANGE_INPUT,!0),window.location.reload(),alert("!Felicidades!\nHaz logrado pasar todos los niveles.\nTu puntaje final fue de "+t)}),1e3))}},{key:"inLevel",value:function(e,a,t){if(!1===this.dead){var s=this.selectorLevel(e);if(!this.open&&s){var r=new L;switch(s.type){case d.TYPE_ZIP:r.downloadFile(s.resource),console.log("Es un ZIp");break;case d.TYPE_EDUCAPLAY:window.open(s.resource,"_blank","shilpijain",!1),window.focus(),console.log("Es una p\xe1gina externa");break;case d.TYPE_HTML:s.info&&window.open(s.info),window.open(s.resource,"_blank","shilpijain",!1),window.focus();break;default:console.log("Este tipo de juego no existe")}var i=Number(e);this.history.push({pathname:d.PAGE_INPUT_SCORE,state:{level:i}}),G.get(d.IS_CHANGE_INPUT)||G.set(d.AUX_SPAWN,{r:a,c:t}),this.open=!0}}}},{key:"selectorLevel",value:function(e){var a;return P.forEach((function(t){t.level===e&&(a=t)})),a}},{key:"changeLvl",value:function(){this.position.x+=38}},{key:"collidable",value:function(e){return"*"===e||"#"===e||"H"===e}},{key:"collision",value:function(e,a){var t=this.position.x,s=this.position.y,r=this.map,i=this.width,o=this.height,n=this.allowance,l=this.space,c=0,u=0,m=0,h=0;"u"===a?(c=Math.floor((s+o-2*l+2+e)/o),m=Math.floor((s+o-2*l+2+e)/o)):"d"===a?(c=Math.floor((s+o+e)/o),m=Math.floor((s+o+e)/o)):"l"===a?(u=Math.floor((t+e+2*n)/i),h=Math.floor((t+e+2*n)/i)):"r"===a&&(u=Math.floor((t+i+e-2*n)/i),h=Math.floor((t+i+e-2*n)/i)),"l"===a||"r"===a?(c=Math.floor((s+o-2*l+2)/o),m=Math.floor((s+o-1)/o)):"u"!==a&&"d"!==a||(u=Math.floor((t+2*n)/i),h=Math.floor((t+i-2*n-1)/i));var g=" ";c&&u&&(g=r[c][u])&&("X"===g&&console.log("Hola"),isNaN(Number(g))||" "===g?"O"===g&&this.gameWin(c,u):this.inLevel(g,c,u));try{var d=r[c][u],p=r[m][h];return this.collidable(d)||this.collidable(p)?{x:u*i,y:c*o}:null}catch(v){return null}return 0}},{key:"moveCharacter",value:function(e,a){var t,s=this.allowance,r=this.width;null===(t=this.collision(e,a))?this.position.x+=Math.floor(e):"l"===a?this.position.x=Math.floor(t.x)+r-2*s:"r"===a&&(this.position.x=Math.floor(t.x)-r+2*s)}},{key:"gravity",value:function(){var e=this.height,a=this.space,t=Math.floor(.2*e),s=this.jumpSpeed>=0?t:this.jumpSpeed,r=this.collision(s,"d");if(null===r?(this.onLand=!1,this.position.y+=s):(this.position.y=r.y-e,this.jumpSpeed=0,this.onLand=!0),null!==this.activeKeyY&&s<0){var i=this.collision(s,"u");null===i?this.jumpSpeed+=t/2:(this.jumpSpeed=0,this.position.y=i.y+e-2*a+2)}}},{key:"renderCharacter",value:function(){var e,a=this.character;G.get(d.USER)&&(e=G.get(d.USER).icon.icon,a.style.backgroundImage="url("+e+")"),a.style.top=this.position.y+"px",a.style.left=this.position.x+"px"}},{key:"animateCharacter",value:function(e){var a=this.character;if("show"===e){a.classList.add("move");var t=this.activeKeyX;37===t?a.classList.add("flip"):39===t&&a.classList.remove("flip")}else"hide"===e&&a.classList.remove("move")}},{key:"createControls",value:function(){var e=this;if(!1===this.hasEvent){this.hasEvent=!0;var a=document.body;a.addEventListener("keydown",(function(a){38===a.keyCode&&null===e.activeKeyY&&!0===e.onLand?(e.activeKeyY=38,e.jumpSpeed=Math.floor(-.6*e.height)):37!==a.keyCode&&39!==a.keyCode||null!==e.activeKeyX||(e.activeKeyX=a.keyCode,e.animateCharacter("show"))})),a.addEventListener("keyup",(function(a){37===a.keyCode||39===a.keyCode?(e.activeKeyX=null,e.animateCharacter("hide")):38===a.keyCode&&(e.activeKeyY=null,e.jumpSpeed=0)}))}}},{key:"createMap",value:function(){var e,a=this.map,t=this.viewbox;"children"in t&&(e=t.children);var s,r=this.width,i=this.height,o=Object(C.a)(e);try{for(o.s();!(s=o.n()).done;){var n,l=s.value,c=l.children,u=+l.dataset.gameRow,m=Object(C.a)(c);try{for(m.s();!(n=m.n()).done;){var h=n.value,g=+h.dataset.gameCol;"#"===a[u][g]?h.classList.add("lawn"):"H"===a[u][g]?h.classList.add("ground"):"O"===a[u][g]?h.classList.add("finish"):"*"===a[u][g]||"L"===a[u][g]?h.classList.add("block"):" "===a[u][g]?h.classList.add("space"):"S"===a[u][g]?this.position={x:g*r,y:u*i}:!isNaN(Number(a[u][g]))&&a[u][g]&&h.classList.add("lvl-"+a[u][g])}}catch(d){m.e(d)}finally{m.f()}}}catch(d){o.e(d)}finally{o.f()}}},{key:"initializeCharacter",value:function(){this.position.y,this.position.x;var e=this.character;this.charWidth;e.classList.remove("hide"),this.renderCharacter()}},{key:"render",value:function(){var e=this,a=e.activeKeyX,t=(e.position.x,e.position.y);if(setTimeout((function(){window.requestAnimationFrame(e.render.bind(e))}),1e3/e.fps),null!==a){var s=e.charWidth;e.character;!1===this.won&&(37===a?e.moveCharacter(Math.floor(-.15*s),"l"):39===a&&e.moveCharacter(Math.floor(.15*s),"r"))}e.gravity(),e.viewbox.style.top=t>9*e.height?-5*e.height+"px":"0",e.renderCharacter()}},{key:"initialize",value:function(){this.won=!1,this.dead=!1,this.viewbox.classList.add("active"),!1===this.hasEvent&&this.render(),this.createControls(),this.createMap(),this.initializeCharacter()}}]),e}();var O=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:d.PAGE_INPUT_SCORE,component:S}),r.a.createElement(m.a,{exact:!0,path:d.PAGE_LOGIN,component:v}),r.a.createElement(m.a,{exact:!0,path:d.PAGE_CREATE_USER,component:N}),r.a.createElement(m.a,{exact:!0,path:d.PAGE_TABLE_GAME,component:I}),r.a.createElement(m.a,{component:y}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(210),t(219);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement("audio",{src:d.ENV+"music.mp3",id:"music",autoPlay:!0,loop:!0,controls:!0}),r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[191,1,2]]]);
//# sourceMappingURL=main.ea6c28ea.chunk.js.map